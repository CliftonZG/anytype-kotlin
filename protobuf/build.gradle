apply plugin: 'java-library'
apply plugin: 'com.google.protobuf'

sourceSets{
    main.java.srcDirs += "${protobuf.generatedFilesBaseDir}/main/java"
}

dependencies {
    def protobufDependencies = rootProject.ext.protobuf
    implementation protobufDependencies.protobufJava
}

protobuf {
    protoc {
        artifact = rootProject.ext.protobuf.protoc
    }
}

ext {
    protobuf_protocol_version = '0.0.8-rc2'
}

task version {
    doLast {
        println "Protobuf protocol version : " + protobuf_protocol_version
    }
}